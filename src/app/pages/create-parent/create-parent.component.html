<div class="max-w-xl mx-auto p-6 bg-white rounded-xl shadow-lg space-y-8">

  <h2 class="text-3xl font-extrabold text-green-700 text-center mb-6">CrÃ©er un compte Parent</h2>

  <!-- Parent Details -->
  <div class="bg-green-50 rounded-lg p-5 shadow-inner">
    <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">ğŸ‘¤ DÃ©tails du Parent</h3>

    <div class="mb-4">
      <label class="block font-medium text-green-700 mb-1">PrÃ©nom :</label>
      <input type="text" [(ngModel)]="parentFirstName" (ngModelChange)="generateUsername()" placeholder="Entrez le prÃ©nom du parent" required
        class="w-full rounded-md border border-green-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-400" />
    </div>

    <div class="mb-4">
      <label class="block font-medium text-green-700 mb-1">Nom :</label>
      <input type="text" [(ngModel)]="parentLastName" (ngModelChange)="generateUsername()" placeholder="Entrez le nom du parent" required
        class="w-full rounded-md border border-green-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-400" />
    </div>

    <div class="mb-4">
      <label class="block font-medium text-green-700 mb-1">Nom dâ€™utilisateur (auto-gÃ©nÃ©rÃ©) :</label>
      <input type="text" [(ngModel)]="parentUsername" readonly
        class="w-full rounded-md border border-gray-300 bg-gray-100 px-4 py-2 cursor-not-allowed" />
    </div>

    <div>
      <label class="block font-medium text-green-700 mb-1">Mot de passe gÃ©nÃ©rÃ© :</label>
      <input type="text" [(ngModel)]="parentPassword" readonly
        class="w-full rounded-md border border-gray-300 bg-gray-100 px-4 py-2 cursor-not-allowed" />
    </div>
  </div>

  <!-- Link Children -->
  <div class="bg-green-50 rounded-lg p-5 shadow-inner">
    <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">ğŸ‘¨â€ğŸ‘§ Lier les enfants</h3>

    <div class="flex items-center gap-3 mb-4">
      <select [(ngModel)]="selectedChildId"
        class="flex-grow rounded-md border border-green-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-400">
        <option *ngFor="let student of students" [value]="student.uid">
          {{ student.firstName }} {{ student.lastName }}
        </option>
      </select>
      <button type="button" (click)="linkChild()"
        class="bg-green-500 hover:bg-green-600 text-white font-semibold rounded-md px-5 py-2 transition duration-200">
        â• Lier enfant
      </button>
    </div>

    <div *ngIf="linkedChildren.length > 0" class="linked-children">
      <h4 class="text-green-700 font-semibold mb-2 flex items-center gap-2">ğŸ“‹ Enfants liÃ©s :</h4>
      <ul class="list-disc list-inside space-y-2 text-gray-700">
        <li *ngFor="let child of linkedChildren" class="flex justify-between items-center bg-white p-3 rounded-md shadow-sm">
          {{ getChildName(child) }}
          <button type="button" (click)="removeChild(child)"
            class="text-red-500 hover:text-red-700 font-bold px-2 rounded hover:bg-red-100 transition">
            X
          </button>
        </li>
      </ul>
    </div>
  </div>

  <!-- Actions -->
  <div class="flex justify-center gap-6">
    <button (click)="createParentAccount()"
      class="bg-green-600 hover:bg-green-700 text-white font-bold rounded-md px-8 py-3 shadow-lg transition">
      âœ… CrÃ©er le compte
    </button>
    <button (click)="resetForm()"
      class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold rounded-md px-6 py-3 transition">
      ğŸ”„ RÃ©initialiser
    </button>
  </div>

</div>

  